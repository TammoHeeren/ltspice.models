Version 4
SHEET 1 1764 680
WIRE 768 -144 -16 -144
WIRE 1040 -144 768 -144
WIRE 1216 -144 1040 -144
WIRE 1520 -144 1312 -144
WIRE 1680 -144 1520 -144
WIRE 1040 -112 1040 -144
WIRE 768 0 768 -144
WIRE 1040 16 1040 -32
WIRE 1040 16 816 16
WIRE 1520 96 1520 -144
WIRE -16 112 -16 -144
WIRE 1680 112 1680 -144
WIRE 192 128 160 128
WIRE 480 128 272 128
WIRE 896 128 576 128
WIRE 1040 128 1040 16
WIRE 1232 128 1232 -96
WIRE 1232 128 1040 128
WIRE 576 144 576 128
WIRE 1040 176 1040 128
WIRE 480 224 480 128
WIRE 528 224 480 224
WIRE 1232 240 1232 128
WIRE 160 256 160 128
WIRE 768 256 768 96
WIRE 800 256 768 256
WIRE 896 256 896 128
WIRE 896 256 864 256
WIRE 992 256 896 256
WIRE 1296 256 1280 256
WIRE 480 272 480 224
WIRE -608 288 -608 240
WIRE -384 288 -384 240
WIRE 768 288 768 256
WIRE 1232 352 1232 320
WIRE 1280 352 1280 304
WIRE 1280 352 1232 352
WIRE -608 400 -608 368
WIRE -384 400 -384 368
WIRE -16 400 -16 192
WIRE 160 400 160 336
WIRE 480 400 480 352
WIRE 576 400 576 240
WIRE 768 400 768 368
WIRE 1040 400 1040 272
WIRE 1232 400 1232 352
WIRE 1520 400 1520 176
WIRE 1680 400 1680 176
FLAG -16 400 0
FLAG 1520 400 0
FLAG 768 400 0
FLAG 1040 400 0
FLAG 1232 400 0
FLAG 160 400 0
FLAG -608 400 0
FLAG -384 400 0
FLAG -608 240 ON
FLAG -384 240 OFF
FLAG 1520 -144 OUT
FLAG -16 -144 IN
FLAG 1296 256 ON
FLAG 576 400 0
FLAG 480 400 0
FLAG 1680 400 0
SYMBOL voltage -16 96 R0
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL res 1504 80 R0
SYMATTR InstName R1
SYMATTR Value 100
SYMBOL res 752 272 R0
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res 1024 -128 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL sw 1232 336 R180
SYMATTR InstName S1
SYMBOL voltage -608 272 R0
WINDOW 3 -105 184 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 1 0 0 2m)
SYMATTR InstName V2
SYMBOL voltage -384 272 R0
WINDOW 3 -56 187 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 2 1u 1u 200m)
SYMATTR InstName V3
SYMBOL pmos 1312 -96 M270
SYMATTR InstName M3
SYMBOL pmos 816 96 R180
SYMATTR InstName M1
SYMBOL nmos 992 176 R0
SYMATTR InstName M4
SYMBOL schottky 864 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMBOL res 288 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL nmos 528 144 R0
SYMATTR InstName M2
SYMBOL res 464 256 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL bv 160 240 R0
WINDOW 3 -87 216 Left 2
SYMATTR InstName B1
SYMATTR Value V=V(Off)*V(OUT)
SYMBOL cap 1664 112 R0
SYMATTR InstName C1
SYMATTR Value 10µ
TEXT -680 -152 Left 2 !.model SW SW(Ron=1m Roff=1G Vt=.5 Vh=-.4)\n.model NMOS NMOS(VTO=1 KP=1)\n.model PMOS PMOS(VTO=-1 KP=1)
TEXT -672 40 Left 2 !.tran 0 3 0 0.5m
TEXT -664 120 Left 2 ;Art of Electronics, 3rd, pp196
